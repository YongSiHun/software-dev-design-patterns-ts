# 방문자 (Visitor)

#### 문제

- 객체 구조의 각 요소에 대해 새로운 작업을 정의해야할 때

#### 개요

- 객체 구조(Element)와 동작(Visitor)을 분리
- 객체 구조는 그대로 두고 새로운 동작(방문자)을 추가할 때 객체 구조를 수정하지 않아도 됨

#### 구성 요소

- Element

  - 방문자를 받아들이는 객체 구조의 인터페이스

- Concrete Element

  - 구체적인 객체로, 방문자에게 자신을 전달

- Visitor

  - Element 객체에 수행될 동작의 인터페이스

- Concrete Visitor
  - 구체적인 동작을 구현

#### 장점

- 객체 구조를 변경하지 않고 동작을 추가할 수 있음
- 객체와 동작을 분리하여 코드가 더 읽기 쉽고 관리하기 쉬움

#### 단점

- 객체 구조가 자주 변경되면 방문자 패턴의 장점이 감소
- 새로운 Element를 추가할 경우 모든 Visitor를 수정해야함

#### 현실의 예시

- 파일 시스템 탐색 (파일과 폴더를 순회하여 다양한 작업을 수행 (크기 계산, 압축, 인덱싱 등))
- 컴파이러 (구문 트리 (AST)에서 다양한 작업 (코드 생성, 최적화 등)을 수행)
- UI 구성 요소 (UI 트리를 순회하며 동작 추가 (렌더링, 이벤트 처리 등))
